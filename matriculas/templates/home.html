{% extends 'base.html' %}

{% block title %}Inicio | Academia Robert Hooke{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="max-w-7xl mx-auto text-center mb-12">
        <div class="inline-flex items-center justify-center bg-primary/10 p-4 rounded-full mb-6">
            <i class="bi bi-mortarboard-fill text-4xl text-primary"></i>
        </div>
        <h1 class="text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl">
            Academia <span class="text-primary">Robert Hooke</span>
        </h1>
        <p class="mt-5 max-w-xl mx-auto text-xl text-gray-500">
            Sistema Integral de Gestión Académica
        </p>
        <div class="mt-6">
            <div class="inline-flex items-center">
                <div class="h-px w-16 bg-primary"></div>
                <span class="mx-4 text-gray-400">✦</span>
                <div class="h-px w-16 bg-primary"></div>
            </div>
        </div>
    </div>

    <!-- Stats Overview -->
    <div class="max-w-7xl mx-auto grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-12">
        <!-- Alumnos Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow duration-300">
            <div class="px-4 py-5 sm:p-6">
                <div class="flex items-center">
                    <div class="flex-shrink-0 bg-blue-100 p-3 rounded-full">
                        <i class="bi bi-people-fill text-blue-600 text-xl"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Total Alumnos</dt>
                            <dd class="flex items-baseline">
                                <div class="text-2xl font-semibold text-gray-900">{{ total_alumnos }}</div>
                            </dd>
                        </dl>
                    </div>
                </div>
                <div class="mt-4">
                    <a href="{% url 'matriculas:alumno_list' %}"
                        class="inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 group">
                        Ver todos
                        <i class="bi bi-arrow-right-short ml-1 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Matrículas Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow duration-300">
            <div class="px-4 py-5 sm:p-6">
                <div class="flex items-center">
                    <div class="flex-shrink-0 bg-green-100 p-3 rounded-full">
                        <i class="bi bi-journal-text text-green-600 text-xl"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Matrículas Activas</dt>
                            <dd class="flex items-baseline">
                                <div class="text-2xl font-semibold text-gray-900">{{ matriculas_activas }}</div>
                            </dd>
                        </dl>
                    </div>
                </div>
                <div class="mt-4">
                    <a href="{% url 'matriculas:matricula_list' %}"
                        class="inline-flex items-center text-sm font-medium text-green-600 hover:text-green-500 group">
                        Ver todas
                        <i class="bi bi-arrow-right-short ml-1 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Pagos Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow duration-300">
            <div class="px-4 py-5 sm:p-6">
                <div class="flex items-center">
                    <div class="flex-shrink-0 bg-yellow-100 p-3 rounded-full">
                        <i class="bi bi-cash-coin text-yellow-600 text-xl"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Pagos del Mes</dt>
                            <dd class="flex items-baseline">
                                <div class="text-2xl font-semibold text-gray-900">S/ {{ pagos_mes|default:"0.00" }}
                                </div>
                            </dd>
                        </dl>
                    </div>
                </div>
                <div class="mt-4">
                    <a href="{% url 'matriculas:resumen_general_pagos' %}"
                        class="inline-flex items-center text-sm font-medium text-yellow-600 hover:text-yellow-500 group">
                        Ver resumen
                        <i class="bi bi-arrow-right-short ml-1 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Ciclos Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow duration-300">
            <div class="px-4 py-5 sm:p-6">
                <div class="flex items-center">
                    <div class="flex-shrink-0 bg-purple-100 p-3 rounded-full">
                        <i class="bi bi-book-fill text-purple-600 text-xl"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Ciclo Actual</dt>
                            <dd class="flex items-baseline">
                                <div class="text-2xl font-semibold text-gray-900">{{ ciclo_actual|default:"-" }}</div>
                            </dd>
                        </dl>
                    </div>
                </div>
                <div class="mt-4">
                    <a href="{% url 'matriculas:ciclo_list' %}"
                        class="inline-flex items-center text-sm font-medium text-purple-600 hover:text-purple-500 group">
                        Gestionar
                        <i class="bi bi-arrow-right-short ml-1 group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions Grid -->
    <div class="max-w-7xl mx-auto grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <!-- Alumnos Section -->
        <div class="bg-white overflow-hidden shadow-xl rounded-lg hover:shadow-2xl transition-shadow duration-300">
            <div class="p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-900 flex items-center">
                        <i class="bi bi-people-fill mr-2 text-blue-600"></i>Alumnos
                    </h3>
                    <span
                        class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                        {{ total_alumnos }} registrados
                    </span>
                </div>
                <div class="mt-6 space-y-3">
                    <a href="{% url 'matriculas:alumno_create' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-lg mr-4 group-hover:bg-blue-200 transition-colors">
                                <i class="bi bi-plus-lg text-blue-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Nuevo Alumno</span>
                                <span class="block text-xs text-gray-500 mt-1">Registrar nuevo estudiante</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-blue-500 transition-colors"></i>
                    </a>
                    <a href="{% url 'matriculas:alumno_list' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-lg mr-4 group-hover:bg-blue-200 transition-colors">
                                <i class="bi bi-list-ul text-blue-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Lista de Alumnos</span>
                                <span class="block text-xs text-gray-500 mt-1">Ver todos los registros</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-blue-500 transition-colors"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Matrículas Section -->
        <div class="bg-white overflow-hidden shadow-xl rounded-lg hover:shadow-2xl transition-shadow duration-300">
            <div class="p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-900 flex items-center">
                        <i class="bi bi-journal-text mr-2 text-green-600"></i>Matrículas
                    </h3>
                    <span
                        class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                        {{ matriculas_activas }} activas
                    </span>
                </div>
                <div class="mt-6 space-y-3">
                    <a href="{% url 'matriculas:matricula_create' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-green-100 p-3 rounded-lg mr-4 group-hover:bg-green-200 transition-colors">
                                <i class="bi bi-plus-lg text-green-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Nueva Matrícula</span>
                                <span class="block text-xs text-gray-500 mt-1">Registrar nueva matrícula</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-green-500 transition-colors"></i>
                    </a>
                    <a href="{% url 'matriculas:matricula_list' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-green-100 p-3 rounded-lg mr-4 group-hover:bg-green-200 transition-colors">
                                <i class="bi bi-list-ul text-green-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Lista de Matrículas</span>
                                <span class="block text-xs text-gray-500 mt-1">Ver todas las matrículas</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-green-500 transition-colors"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Pagos Section - Versión Mejorada -->
        <div
            class="bg-white overflow-hidden shadow-xl rounded-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-yellow-100/50">
            <div class="p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-900 flex items-center">
                        <div class="bg-yellow-100/20 p-2 rounded-lg mr-3 border border-yellow-200/50">
                            <i class="bi bi-cash-stack text-yellow-600 text-xl"></i>
                        </div>
                        <span class="bg-clip-text text-transparent bg-gradient-to-r from-yellow-600 to-yellow-800">
                            Gestión de Pagos
                        </span>
                    </h3>
                    <div class="flex flex-col items-end">
                        <span
                            class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100/80 text-yellow-800 backdrop-blur-sm">
                            <i class="bi bi-exclamation-circle mr-1"></i> {{ total_cuotas_pendientes_mes }} cuotas pendientes
                        </span>
                        <span class="mt-1 text-sm font-semibold text-yellow-700">
                            S/ {{ total_monto_cuotas_pendientes_mes|default:"0.00" }} por cobrar
                        </span>
                    </div>
                </div>

                <div class="mt-6 space-y-3">
                    <!-- Resumen de Pagos -->
                    <a href="{% url 'matriculas:resumen_general_pagos' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-yellow-400 hover:bg-gradient-to-r from-yellow-50/50 to-white transition-all duration-200">
                        <div class="flex items-center">
                            <div
                                class="bg-yellow-100 p-3 rounded-lg mr-4 group-hover:bg-yellow-200 transition-colors shadow-sm">
                                <i class="bi bi-bar-chart text-yellow-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Resumen Financiero</span>
                                <span class="block text-xs text-gray-500 mt-1">Estado general de pagos y
                                    cobranzas</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-yellow-600 transition-colors"></i>
                    </a>

                    <!-- Cobranzas WhatsApp -->
                    <a href="{% url 'matriculas:cobranzas_vencidas' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-green-400 hover:bg-gradient-to-r from-green-50/50 to-white transition-all duration-200">
                        <div class="flex items-center">
                            <div
                                class="bg-green-100 p-3 rounded-lg mr-4 group-hover:bg-green-200 transition-colors shadow-sm">
                                <i class="bi bi-whatsapp text-green-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Cobranzas WhatsApp</span>
                                <span class="block text-xs text-gray-500 mt-1">Enviar recordatorios de pago</span>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full mr-2">
                                {{ total_cuotas_pendientes_mes }} pendientes
                            </span>
                            <i
                                class="bi bi-chevron-right text-gray-400 group-hover:text-green-600 transition-colors"></i>
                        </div>
                    </a>

                    <!-- Reporte de Pagos -->
                    <a href="#"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-400 hover:bg-gradient-to-r from-blue-50/50 to-white transition-all duration-200">
                        <div class="flex items-center">
                            <div
                                class="bg-blue-100 p-3 rounded-lg mr-4 group-hover:bg-blue-200 transition-colors shadow-sm">
                                <i class="bi bi-file-earmark-pdf text-blue-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Reporte de Pagos</span>
                                <span class="block text-xs text-gray-500 mt-1">Generar reporte mensual en PDF</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-blue-600 transition-colors"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Configuración Section -->
        <div class="bg-white overflow-hidden shadow-xl rounded-lg hover:shadow-2xl transition-shadow duration-300">
            <div class="p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-900 flex items-center">
                        <i class="bi bi-gear mr-2 text-purple-600"></i>Configuración
                    </h3>
                    <span
                        class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800">
                        Administración
                    </span>
                </div>
                <div class="mt-6 space-y-3">
                    <a href="{% url 'matriculas:ciclo_list' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-purple-100 p-3 rounded-lg mr-4 group-hover:bg-purple-200 transition-colors">
                                <i class="bi bi-book text-purple-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Gestionar Ciclos</span>
                                <span class="block text-xs text-gray-500 mt-1">Configurar periodos académicos</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-purple-500 transition-colors"></i>
                    </a>
                    <a href="{% url 'matriculas:turno_list' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-purple-100 p-3 rounded-lg mr-4 group-hover:bg-purple-200 transition-colors">
                                <i class="bi bi-clock text-purple-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Gestionar Turnos</span>
                                <span class="block text-xs text-gray-500 mt-1">Configurar horarios</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-purple-500 transition-colors"></i>
                    </a>
                    <a href="{% url 'matriculas:horario_list' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-purple-100 p-3 rounded-lg mr-4 group-hover:bg-purple-200 transition-colors">
                                <i class="bi bi-calendar-event text-purple-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Gestionar Horarios</span>
                                <span class="block text-xs text-gray-500 mt-1">Configurar disponibilidad</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-purple-500 transition-colors"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Apoderados Section -->
        <div class="bg-white overflow-hidden shadow-xl rounded-lg hover:shadow-2xl transition-shadow duration-300">
            <div class="p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-900 flex items-center">
                        <i class="bi bi-person-bounding-box mr-2 text-red-600"></i>Apoderados
                    </h3>
                    <span
                        class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">
                        {{ total_apoderados }} registrados
                    </span>
                </div>
                <div class="mt-6 space-y-3">
                    <a href="{% url 'matriculas:apoderado_create' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-red-500 hover:bg-red-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-red-100 p-3 rounded-lg mr-4 group-hover:bg-red-200 transition-colors">
                                <i class="bi bi-plus-lg text-red-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Nuevo Apoderado</span>
                                <span class="block text-xs text-gray-500 mt-1">Registrar nuevo responsable</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-red-500 transition-colors"></i>
                    </a>
                    <a href="{% url 'matriculas:apoderado_list' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-red-500 hover:bg-red-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-red-100 p-3 rounded-lg mr-4 group-hover:bg-red-200 transition-colors">
                                <i class="bi bi-list-ul text-red-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Lista de Apoderados</span>
                                <span class="block text-xs text-gray-500 mt-1">Ver todos los registros</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-red-500 transition-colors"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Admin Section -->
        <div class="bg-white overflow-hidden shadow-xl rounded-lg hover:shadow-2xl transition-shadow duration-300">
            <div class="p-6">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-900 flex items-center">
                        <i class="bi bi-shield-lock mr-2 text-indigo-600"></i>Administración
                    </h3>
                    <span
                        class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800">
                        Sistema
                    </span>
                </div>
                <div class="mt-6 space-y-3">
                    <a href="{% url 'admin:index' %}" target="_blank"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-indigo-100 p-3 rounded-lg mr-4 group-hover:bg-indigo-200 transition-colors">
                                <i class="bi bi-shield-lock text-indigo-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Panel de Administración</span>
                                <span class="block text-xs text-gray-500 mt-1">Acceso completo al sistema</span>
                            </div>
                        </div>
                        <i
                            class="bi bi-box-arrow-up-right text-gray-400 group-hover:text-indigo-500 transition-colors"></i>
                    </a>
                    <a href="{% url 'matriculas:editar_mensaje_whatsapp' %}"
                        class="group flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all duration-200">
                        <div class="flex items-center">
                            <div class="bg-green-100 p-3 rounded-lg mr-4 group-hover:bg-green-200 transition-colors">
                                <i class="bi bi-whatsapp text-green-600"></i>
                            </div>
                            <div>
                                <span class="block font-medium text-gray-700">Mensajes de Cobranza</span>
                                <span class="block text-xs text-gray-500 mt-1">Personalizar plantillas</span>
                            </div>
                        </div>
                        <i class="bi bi-chevron-right text-gray-400 group-hover:text-green-500 transition-colors"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}